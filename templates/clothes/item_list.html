{% extends 'base.html' %}
{% load static %}

{% block title %}Мой гардероб{% endblock %}

{% block content %}
<div class="container">
    <div class="page-header">
        <h2>Мой гардероб</h2>
        <a href="{% url 'clothes:item_create' %}" class="btn">Добавить новую вещь</a>
    </div>

    <div class="filters">
        <a href="{% url 'clothes:item_list' %}"
           class="filter-btn {% if not current_season or current_season == 'all' %}active{% endif %}">
            Все
        </a>

        {# Используем 'SUM', 'WIN', 'DEM', 'ANY' в соответствии с models.py #}
        <a href="?season=SUM"
           class="filter-btn {% if current_season == 'SUM' %}active{% endif %}">
            Лето
        </a>

        <a href="?season=WIN"
           class="filter-btn {% if current_season == 'WIN' %}active{% endif %}">
            Зима
        </a>

        <a href="?season=DEM"
           class="filter-btn {% if current_season == 'DEM' %}active{% endif %}">
            Демисезон
        </a>

        <a href="?season=ANY"
           class="filter-btn {% if current_season == 'ANY' %}active{% endif %}">
            Любой сезон
        </a>
    </div>

    <div class="items-grid">
        {% for item in items %}
        <div class="item-card">
            <a href="{% url 'clothes:item_detail' item.pk %}">
                {% if item.image %}
                <img src="{{ item.image.url }}" alt="{{ item.name }}" class="item-card__image">
                {% endif %}
                <div class="item-card__body">
                    <h3 class="item-card__name">{{ item.name }}</h3>
                </div>
            </a>
        </div>
        {% empty %}
        <div class="empty-state-message">
            <h3>Здесь пока пусто</h3>
            {% if not current_season or current_season == 'all' %}
            <p>Добавьте свою первую вещь в гардероб, чтобы увидеть её здесь.</p>
            {% else %}
            <p>Похоже, у вас нет вещей для выбранного сезона.</p>
            {% endif %}
        </div>
        {% endfor %}
    </div>

</div>
{% endblock %}